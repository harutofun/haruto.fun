<!-------------------------------------------------------- ALL HOME WIDGETS ---------->
<div id="home_widgets">
    <!-------------------------------------------------------- BLUESKY --------------->
    <div id="bluesky" style="width: 350px; height: 200px; overflow: hidden; position: absolute; top: -50px; left: 200px; font-family: 'harutofunregular', sans-serif !important;">
        <script src="https://cdn.jsdelivr.net/npm/bsky-embed@0.0.5/dist/bsky-embed.es.js" async="async" ></script>
        <bsky-embed  
            username="haruto.fun"
            limit="1"
        >  
        </bsky-embed>
    </div>
    <script>
      window.addEventListener('load', function() {
          const blueskyWidget = document.querySelector('#bluesky');
          if (blueskyWidget) {
              blueskyWidget.style.fontFamily = "'harutofunregular', sans-serif";
              const widgetChildren = blueskyWidget.querySelectorAll('*');
              widgetChildren.forEach(child => {
                  child.style.fontFamily = "'harutofunregular', sans-serif";
              });
          }
      });
  </script>
  

  
    <!-------------------------------------------------------- NEW MII -------------------->
    <div id="characterWidget">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdYFRuudqdTSLIaFJJe2vbRHU93adT-5-A_VRYm_lyHeaXnKjTCLEAmsO3a2rafYLXtNhGHroZH0lbFQxN0q35cAIwu3WKNrnCQ49WeOTu61NPZ49lTzhaOlKPqkHjCaLZCEwQ9VnHZJfvXejnWjaCwwSMMyvkWwccKhsB_LdDJtngFjPmdtd_hkXTG9Tf/s1600/Sprite-0001.gif" alt="Personagem" id="characterGif" />
    </div>
    
    <script>
        const gifElement = document.getElementById('characterGif');
        const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT4CBkKnrXiZC_rs84P8nexunH9gDLM8qf8reRDAu3aYJyeZWGqpHBHXEwpxg6kGoloEYcBb2puFUJN/pub?output=csv'; // URL do CSV
        
        // GIFS TO BE RANDOMIZED YAY
        const randomGifs = [
          'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdYFRuudqdTSLIaFJJe2vbRHU93adT-5-A_VRYm_lyHeaXnKjTCLEAmsO3a2rafYLXtNhGHroZH0lbFQxN0q35cAIwu3WKNrnCQ49WeOTu61NPZ49lTzhaOlKPqkHjCaLZCEwQ9VnHZJfvXejnWjaCwwSMMyvkWwccKhsB_LdDJtngFjPmdtd_hkXTG9Tf/s1600/Sprite-0001.gif',
          'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUxKjOeQer9TpjKnJXhByFNdrLG1bpv-M-P1RT8TZ8riETMcz-eEOKwcw3dtjfSkDXFbGbasR1B7Z_WsxKSwAC4vicIRPn9whlCZJr6G1yI63xug2VeOyFBrT3LHICHdKb8JsG6kCVSzV-fprmh1DA0oCWQErQjtEANFxEUxPEDk6OaKhsITJ2EI0dPdBD/s1600/mold.gif'
        ];
    
        // LOAD BASED ON TAG OR RANDOMIZED GIF
        async function loadGif() {
          try {
            const response = await fetch(csvUrl);
            const csvText = await response.text();
            const rows = csvText.split('\n');
            const data = rows.map(row => row.split(','));
    
            // store tag
            let tag = '';
    
            // integer??? to find the ACTIVE! word i guess
            for (let i = 0; i < data.length; i++) {
              // verify if the furst column has "ACTIVE!"
              if (data[i][0] && data[i][0].toLowerCase() === 'active!') {
                tag = data[i][1]; // tag is in the second line 
                break; // close look after finding
              }
            }

            // verify if the tag found, otherwise go to random
            if (tag) {
              switch (tag) {
                case 'Art':
                  gifElement.src = 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjB9bmbbuND-5YUC5GPXebvcwxfaBG3ykz7K84sxeUDoTAw8aZJ7vqmHxi8ql_uptcWSsQ_Ir21wZrOqkLwuoXnLYQLNhDDwMCJ21sX5GK49ICqSEi6DDNXh6v2T7ICwhHf5tVKVCSfBXlK1Kf2UW2rZfLIEP90kEUdcJCUfwvgF5bq_3YO32eVMUn_LCfJ/s1600/Sprite-0001.gif';
                  break;
                case 'Code':
                  gifElement.src = 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjB9bmbbuND-5YUC5GPXebvcwxfaBG3ykz7K84sxeUDoTAw8aZJ7vqmHxi8ql_uptcWSsQ_Ir21wZrOqkLwuoXnLYQLNhDDwMCJ21sX5GK49ICqSEi6DDNXh6v2T7ICwhHf5tVKVCSfBXlK1Kf2UW2rZfLIEP90kEUdcJCUfwvgF5bq_3YO32eVMUn_LCfJ/s1600/Sprite-0001.gif';
                  break;
                case 'Music':
                  gifElement.src = 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjB9bmbbuND-5YUC5GPXebvcwxfaBG3ykz7K84sxeUDoTAw8aZJ7vqmHxi8ql_uptcWSsQ_Ir21wZrOqkLwuoXnLYQLNhDDwMCJ21sX5GK49ICqSEi6DDNXh6v2T7ICwhHf5tVKVCSfBXlK1Kf2UW2rZfLIEP90kEUdcJCUfwvgF5bq_3YO32eVMUn_LCfJ/s1600/Sprite-0001.gif';
                  break;
                default:
                  gifElement.src = randomGifs[Math.floor(Math.random() * randomGifs.length)];
              }
            } else {
              // randomize if there's no task "ACTIVE!"
              gifElement.src = randomGifs[Math.floor(Math.random() * randomGifs.length)];
            }
          } catch (error) {
            console.error('Erro ao carregar o GIF:', error);
            gifElement.src = randomGifs[Math.floor(Math.random() * randomGifs.length)];
          }
        }
        
        // call the function after loading the page
        loadGif();
    </script>
    
    <style>
        /* WIDGET STYLE */
        #characterWidget {
          top: 200px; 
          left: 20px; 
          z-index: 1000; /* depth */
        }
    
        #characterGif {
          /* GIF STYLE */
          top: 200px; 
          left: 20px; 
          z-index: 1000; /* depth? */
        }
    </style>
    
  
  






</div>

<!-- HOME PAGE -->
<script>
    var urlAtual = window.location.href;
    if (urlAtual === "https://secretblogveryhidden.blogspot.com/") { //home page
        document.getElementById("home_widgets").style.display = "block";
    } else { //other pages
        document.getElementById("home_widgets").style.display = "none";
    }
</script>